<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NearMate - Animated Intro</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700;900&family=Rajdhani:wght@500;700&display=swap" rel="stylesheet">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Rajdhani', sans-serif;
        }

        body {
            background-color: #0a0a1a;
            color: white;
            overflow-x: hidden;
            position: relative;
        }

        .background {
            position: fixed;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #0a0a1a 0%, #1a1a3a 100%);
            z-index: -1;
        }

        .grid-overlay {
            position: fixed;
            width: 100%;
            height: 100%;
            background-image: 
                linear-gradient(rgba(149, 0, 255, 0.05) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0, 98, 255, 0.05) 1px, transparent 1px);
            background-size: 20px 20px;
            z-index: -1;
            opacity: 0.5;
        }

        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
            z-index: 1;
            position: relative;
        }

        section {
            min-height: 100vh;
            display: flex !important;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 4rem 2rem;
            position: relative;
            opacity: 0;
            transform: translateY(50px);
            transition: opacity 0.8s ease, transform 0.8s ease;
            z-index: 0;
        }

        section.visible {
            opacity: 1 !important;
            transform: translateY(0) !important;
            z-index: 1;
            position: relative;
        }

        h1 {
            font-family: 'Orbitron', sans-serif;
            font-size: 3rem;
            font-weight: 900;
            margin-bottom: 2rem;
            background: linear-gradient(45deg, #9500ff, #0062ff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 0 5px rgba(255, 255, 255, 0.3);
            text-align: center;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        h2 {
            font-family: 'Orbitron', sans-serif;
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 1.5rem;
            color: #9500ff;
            text-align: center;
            letter-spacing: 1px;
        }

        p {
            font-size: 1.2rem;
            line-height: 1.6;
            margin-bottom: 2rem;
            max-width: 800px;
            text-align: center;
            color: rgba(255, 255, 255, 0.9);
        }

        .scene {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 100%;
            max-width: 1000px;
        }

        .scene-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            width: 100%;
            margin-bottom: 2rem;
        }

        @media (min-width: 768px) {
            .scene-content {
                flex-direction: row;
                align-items: center;
                gap: 2rem;
            }
        }

        .scene-text {
            flex: 1;
            padding: 2rem;
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 0 30px rgba(149, 0, 255, 0.2);
        }

        .scene-visual {
            flex: 1;
            min-height: 300px;
            max-width: 450px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 15px;
            overflow: hidden;
            position: relative;
            box-shadow: 0 0 30px rgba(149, 0, 255, 0.3);
        }

        .scene-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 15px;
            transition: transform 0.5s ease;
        }

        .scene-image:hover {
            transform: scale(1.05);
        }

        .feature-list {
            text-align: left;
            margin-bottom: 1rem;
            list-style-type: none;
        }

        .feature-list li {
            margin-bottom: 0.5rem;
            position: relative;
            padding-left: 1.5rem;
            line-height: 1.6;
        }

        .feature-list li::before {
            content: "✓";
            position: absolute;
            left: 0;
            color: #9500ff;
        }

        .mockup-container {
            position: relative;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .phone-mockup {
            width: 90%;
            max-width: 300px;
            border-radius: 30px;
            padding: 10px;
            background: rgba(30, 30, 50, 0.9);
            box-shadow: 0 0 20px rgba(149, 0, 255, 0.4);
        }

        .screen {
            width: 100%;
            height: 100%;
            background: #111;
            border-radius: 20px;
            overflow: hidden;
            position: relative;
        }

        .app-screen {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .circle {
            position: absolute;
            border-radius: 50%;
            background: radial-gradient(circle, rgba(149, 0, 255, 0.3) 0%, rgba(0, 98, 255, 0.1) 100%);
            z-index: -1;
        }

        .final-cta {
            font-family: 'Orbitron', sans-serif;
            background: linear-gradient(45deg, #9500ff, #0062ff);
            padding: 1rem 3rem;
            border-radius: 50px;
            font-size: 1.2rem;
            font-weight: bold;
            border: none;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 2rem;
            color: white;
            text-decoration: none;
            display: inline-block;
            box-shadow: 0 0 20px rgba(149, 0, 255, 0.5);
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .final-cta:hover {
            transform: translateY(-5px);
            box-shadow: 0 0 30px rgba(149, 0, 255, 0.7);
        }

        .animated-person {
            width: 40px;
            height: 40px;
            background: #9500ff;
            border-radius: 50%;
            position: absolute;
            animation: movePerson 10s infinite linear;
        }

        @keyframes movePerson {
            0% { left: 10%; top: 80%; }
            25% { left: 30%; top: 40%; }
            50% { left: 60%; top: 60%; }
            75% { left: 80%; top: 30%; }
            100% { left: 10%; top: 80%; }
        }

        .animated-pin {
            width: 20px;
            height: 20px;
            background: #ff3366;
            border-radius: 50% 50% 50% 0;
            transform: rotate(-45deg);
            position: absolute;
            animation: pin 1s infinite alternate;
        }

        @keyframes pin {
            0% { transform: rotate(-45deg) translateY(0); }
            100% { transform: rotate(-45deg) translateY(-10px); }
        }

        .loading-bar {
            width: 100%;
            height: 4px;
            background: rgba(255, 255, 255, 0.1);
            position: fixed;
            top: 0;
            left: 0;
            z-index: 100;
        }

        .loading-progress {
            height: 100%;
            width: 0%;
            background: linear-gradient(90deg, #9500ff, #0062ff);
            transition: width 0.3s ease;
        }

        .sound-control {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(5px);
            padding: 0.5rem;
            border-radius: 50%;
            cursor: pointer;
            z-index: 10;
            display: flex;
            justify-content: center;
            align-items: center;
            width: 40px;
            height: 40px;
            box-shadow: 0 0 10px rgba(149, 0, 255, 0.3);
        }

        .sound-control i {
            color: #9500ff;
            font-size: 1.2rem;
        }

        .particles {
            position: fixed;
            width: 100%;
            height: 100%;
            z-index: -1;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .fade-in {
            animation: fadeIn 1s ease forwards;
        }

        .vs-screen {
            position: relative;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: space-around;
            align-items: center;
            background: linear-gradient(135deg, #0a0a1a, #1a1a3a);
        }

        .vs-player {
            text-align: center;
        }

        .vs-avatar {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            background: #9500ff;
            margin: 0 auto 1rem;
            display: flex;
            justify-content: center;
            align-items: center;
            color: #0a0a1a;
            font-weight: bold;
            font-size: 2rem;
        }

        .vs-name {
            font-weight: bold;
            color: white;
        }

        .vs-text {
            position: absolute;
            font-size: 4rem;
            font-weight: bold;
            color: #ff3366;
            animation: pulse 2s infinite;
        }

        .highlight {
            background: linear-gradient(45deg, #9500ff, #0062ff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            font-weight: 700;
        }

        @keyframes pulse {
            0% { transform: scale(1); opacity: 0.7; }
            50% { transform: scale(1.1); opacity: 1; }
            100% { transform: scale(1); opacity: 0.7; }
        }

        .icon-small {
            width: 30px;
            height: 30px;
            margin-right: 10px;
            vertical-align: middle;
        }

        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(10, 10, 26, 0.9);
            backdrop-filter: blur(5px);
            z-index: 1000;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
        
        .particle {
            position: absolute;
            width: 2px;
            height: 2px;
            background: #9500ff;
            border-radius: 50%;
        }
        
        @keyframes particleMove {
            0% {
                transform: translateY(0) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(-100vh) rotate(360deg);
                opacity: 0;
            }
        }

        /* Additional styles for the new testimonials section */
        .testimonial-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 20px;
            margin-top: 30px;
            width: 100%;
        }
        
        .testimonial {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 25px;
            width: 100%;
            max-width: 350px;
            box-shadow: 0 0 30px rgba(149, 0, 255, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .testimonial:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 40px rgba(149, 0, 255, 0.3);
        }
        
        .testimonial-header {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .testimonial-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            margin-right: 15px;
            color: white;
        }
        
        .testimonial-info {
            flex: 1;
        }
        
        .testimonial-name {
            font-weight: bold;
            color: white;
            font-size: 1.1rem;
            font-family: 'Orbitron', sans-serif;
        }
        
        .testimonial-title {
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.9rem;
        }
        
        .testimonial-quote {
            position: relative;
            color: rgba(255, 255, 255, 0.9);
            line-height: 1.6;
            font-style: italic;
            padding-left: 15px;
            border-left: 3px solid rgba(149, 0, 255, 0.7);
        }
        
        @media (max-width: 768px) {
            .testimonial-container {
                flex-direction: column;
                align-items: center;
            }
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="background"></div>
    <div class="grid-overlay"></div>
    <div class="particles" id="particles"></div>
    
    <div class="loading-bar">
        <div class="loading-progress" id="progress"></div>
    </div>

    <div class="container">
        <!-- Scene 1: Intro -->
        <section id="intro" class="scene">
            <div class="circle" style="width: 400px; height: 400px; right: -200px; top: -200px; opacity: 0.2;"></div>
            <div class="circle" style="width: 300px; height: 300px; left: -150px; bottom: -150px; opacity: 0.15;"></div>
            
            <h1>Introducing <img src="images/icon.png" alt="NearMate Icon" class="icon-small"> NearMate</h1>
            <div class="scene-content">
                <div class="scene-visual">
                    <div class="mockup-container">
                        <div class="phone-mockup">
                            <div class="screen">
                                <img src="images/icon.png" alt="NearMate Logo" class="app-screen">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="scene-text">
                    <h2>Connect with <span class="highlight">Purpose</span></h2>
                    <p>NearMate is a revolutionary social platform that connects people with similar goals, problems, and interests based on their location.</p>
                    <p>It's not just another social network – it's a collaborative ecosystem designed to help you grow, learn, and achieve your dreams.</p>
                </div>
            </div>
        </section>

        <!-- Scene 2: Problem -->
        <section id="problem" class="scene">
            <div class="circle" style="width: 400px; height: 400px; left: -200px; top: 40%; opacity: 0.2;"></div>
            
            <h1>The Problem</h1>
            <div class="scene-content">
                <div class="scene-text">
                    <h2>Many of us have <span class="highlight">dreams</span>... but no direction</h2>
                    <p>In today's world, we often face challenges where we need guidance, but don't know where to find it:</p>
                    <ul class="feature-list">
                        <li>Students wondering how to prepare for competitive exams</li>
                        <li>Aspiring entrepreneurs looking for mentorship</li>
                        <li>People feeling lost or unmotivated with no one to talk to</li>
                        <li>Newcomers to a city seeking like-minded connections</li>
                    </ul>
                </div>
                <div class="scene-visual">
                    <div class="mockup-container">
                        <div class="animated-person" style="left: 20%; top: 30%;"></div>
                        <div class="animated-person" style="left: 70%; top: 50%; background: #0062ff;"></div>
                        <div class="animated-person" style="left: 40%; top: 70%; background: #ff3366;"></div>
                        <div style="width: 100%; height: 100%; background: rgba(0,0,0,0.2); display: flex; justify-content: center; align-items: center;">
                            <i class="fas fa-question" style="font-size: 5rem; color: rgba(255,255,255,0.3);"></i>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Scene 3: Solution -->
        <section id="solution" class="scene">
            <div class="circle" style="width: 500px; height: 500px; right: -250px; top: 30%; opacity: 0.2;"></div>
            
            <h1>The Solution</h1>
            <div class="scene-content">
                <div class="scene-visual">
                    <div class="mockup-container">
                        <div class="phone-mockup">
                            <div class="screen">
                                <img src="images/home screen.jpeg" alt="NearMate Home Screen" class="app-screen">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="scene-text">
                    <h2>NearMate connects you with the <span class="highlight">right people</span></h2>
                    <p>Our platform brings together people based on what truly matters:</p>
                    <ul class="feature-list">
                        <li><strong>Live Location:</strong> Find people nearby for real-world connections</li>
                        <li><strong>Common Goals:</strong> Match with others who share your aspirations</li>
                        <li><strong>Similar Problems:</strong> Connect with those facing the same challenges</li>
                        <li><strong>Experience Level:</strong> Learn from mentors who've achieved your goals</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Scene 4: Features -->
        <section id="features" class="scene">
            <div class="circle" style="width: 350px; height: 350px; left: -175px; bottom: -175px; opacity: 0.2;"></div>
            
            <h1>Key Features</h1>
            <div class="scene-content">
                <div class="scene-text">
                    <h2>Everything you need to <span class="highlight">connect and grow</span></h2>
                    <ul class="feature-list">
                        <li><strong>Game-Style Matching:</strong> Exciting 1v1 matching screen for connections</li>
                        <li><strong>Real-time Chat:</strong> Text, voice, and media sharing</li>
                        <li><strong>Mentor System:</strong> Learn from verified experts in your field</li>
                        <li><strong>Community Discussion:</strong> Topic-based forums to share ideas and get answers</li>
                        <li><strong>Gamification:</strong> Earn points, badges, and achievements</li>
                        <li><strong>Privacy Controls:</strong> You decide who sees your profile</li>
                    </ul>
                </div>
                <div class="scene-visual">
                    <div class="mockup-container">
                        <div class="phone-mockup">
                            <div class="screen">
                                <img src="images/1 vs 1 matching screen.jpeg" alt="NearMate VS Screen" class="app-screen">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Scene 5: Testimonials (NEW) -->
        <section id="testimonials" class="scene">
            <div class="circle" style="width: 400px; height: 400px; right: -200px; top: 20%; opacity: 0.2;"></div>
            
            <h1>What Users Are Saying</h1>
            <div class="scene-content" style="flex-direction: column;">
                <h2>Real <span class="highlight">success stories</span> from our community</h2>
                
                <div class="testimonial-container">
                    <div class="testimonial">
                        <div class="testimonial-header">
                            <div class="testimonial-avatar" style="background-color: #9500ff;">
                                <i class="fas fa-user"></i>
                            </div>
                            <div class="testimonial-info">
                                <div class="testimonial-name">Sandeep Varma</div>
                                <div class="testimonial-title">Tech Entrepreneur</div>
                            </div>
                        </div>
                        <div class="testimonial-quote">
                            "NearMate helped me find my co-founder who lived just 3 miles away! We had been working on similar ideas but never knew about each other. Now our startup has secured seed funding."
                        </div>
                    </div>
                    
                    <div class="testimonial">
                        <div class="testimonial-header">
                            <div class="testimonial-avatar" style="background-color: #0062ff;">
                                <i class="fas fa-user"></i>
                            </div>
                            <div class="testimonial-info">
                                <div class="testimonial-name">Vinay Varma</div>
                                <div class="testimonial-title">College Student</div>
                            </div>
                        </div>
                        <div class="testimonial-quote">
                            "I was struggling with my competitive exams until I found a study group on NearMate. Meeting weekly with people who share my goals has improved my scores dramatically!"
                        </div>
                    </div>
                    
                    <div class="testimonial">
                        <div class="testimonial-header">
                            <div class="testimonial-avatar" style="background-color: #ff3366;">
                                <i class="fas fa-user"></i>
                            </div>
                            <div class="testimonial-info">
                                <div class="testimonial-name">Sanjay Varma.</div>
                                <div class="testimonial-title">Fitness Enthusiast</div>
                            </div>
                        </div>
                        <div class="testimonial-quote">
                            "Finding consistent workout partners was always a challenge until NearMate. The community discussions feature helped me connect with fitness-minded people in my neighborhood."
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Scene 6: Privacy -->
        <section id="privacy" class="scene">
            <div class="circle" style="width: 450px; height: 450px; right: -225px; top: 40%; opacity: 0.2;"></div>
            
            <h1>Your Privacy. Your Rules.</h1>
            <div class="scene-content">
                <div class="scene-visual">
                    <div class="mockup-container">
                        <div class="phone-mockup">
                            <div class="screen">
                                <div style="width: 100%; height: 100%; background: #111; padding: 20px; display: flex; flex-direction: column;">
                                    <div style="font-weight: bold; color: white; margin-bottom: 20px;">Privacy Settings</div>
                                    
                                    <div style="margin-bottom: 15px;">
                                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                                            <div style="color: white;">Show my profile to:</div>
                                            <div style="color: #9500ff;">Within 5km</div>
                                        </div>
                                        <div style="height: 6px; background: rgba(255,255,255,0.1); border-radius: 3px; position: relative;">
                                            <div style="position: absolute; height: 6px; width: 40%; background: #9500ff; border-radius: 3px;"></div>
                                        </div>
                                    </div>
                                    
                                    <div style="margin-bottom: 15px; display: flex; justify-content: space-between; align-items: center;">
                                        <div style="color: white;">Anonymous Mode</div>
                                        <div style="width: 50px; height: 26px; background: #9500ff; border-radius: 13px; position: relative;">
                                            <div style="position: absolute; width: 22px; height: 22px; border-radius: 50%; background: white; top: 2px; right: 2px;"></div>
                                        </div>
                                    </div>
                                    
                                    <div style="margin-bottom: 15px; display: flex; justify-content: space-between; align-items: center;">
                                        <div style="color: white;">Share my goals publicly</div>
                                        <div style="width: 50px; height: 26px; background: #9500ff; border-radius: 13px; position: relative;">
                                            <div style="position: absolute; width: 22px; height: 22px; border-radius: 50%; background: white; top: 2px; right: 2px;"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="scene-text">
                    <h2>We believe in <span class="highlight">privacy by design</span></h2>
                    <p>NearMate gives you complete control over your data and visibility:</p>
                    <ul class="feature-list">
                        <li>Choose who can see your profile based on distance</li>
                        <li>Enable anonymous mode for sensitive conversations</li>
                        <li>Control which parts of your profile are visible</li>
                        <li>Verify people before sharing personal details</li>
                        <li>Block or report users with a single tap</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Scene 7: Impact -->
        <section id="impact" class="scene">
            <div class="circle" style="width: 500px; height: 500px; left: -250px; top: 20%; opacity: 0.15;"></div>
            
            <h1>Real Impact. Real Growth.</h1>
            <div class="scene-content" style="flex-direction: column;">
                <div class="scene-text" style="max-width: 800px; margin-bottom: 3rem;">
                    <h2>Built for <span class="highlight">dreamers, achievers</span>, and everyone in between</h2>
                    <p>NearMate isn't just an app – it's a movement to bring back meaningful connections in a digital world.</p>
                    <p>We're building a platform where students find mentors, entrepreneurs find co-founders, and people find their tribe.</p>
                </div>
                
                <div style="display: flex; flex-wrap: wrap; gap: 20px; justify-content: center;">
                    <div style="background: rgba(255,255,255,0.05); border-radius: 15px; padding: 20px; backdrop-filter: blur(10px); max-width: 300px;">
                        <div style="color: #9500ff; font-weight: bold; margin-bottom: 10px;">Sandeep Varma, Government Job Aspirant</div>
                        <p style="font-size: 1rem; color: rgba(255,255,255,0.9); text-align: left;">"I found a study partner who lives just 2km away! We meet every weekend and prepare together. He introduced me to his friend who cleared the exam last year."</p>
                    </div>
                    
                    <div style="background: rgba(255,255,255,0.05); border-radius: 15px; padding: 20px; backdrop-filter: blur(10px); max-width: 300px;">
                        <div style="color: #9500ff; font-weight: bold; margin-bottom: 10px;">Sanjay Varma, Startup Founder</div>
                        <p style="font-size: 1rem; color: rgba(255,255,255,0.9); text-align: left;">"I connected with an experienced entrepreneur nearby who guided me through my early startup challenges. We now meet weekly for coffee and mentorship."</p>
                    </div>
                    
                    
                </div>
            </div>
        </section>

        <!-- Scene 8: Final CTA -->
        <section id="cta" class="scene">
            <div class="circle" style="width: 600px; height: 600px; right: -300px; bottom: -300px; opacity: 0.15;"></div>
            
            <h1>Be Near. Be Mate. Be <img src="images/icon.png" alt="NearMate Icon" class="icon-small"> NearMate.</h1>
            <div style="max-width: 700px; text-align: center;">
                <p>Your journey to <span class="highlight">meaningful connections</span> starts here. Join thousands of others who are already growing together.</p>
                <p>Find mentors. Make friends. Achieve goals. All near you.</p>
                <a href="#" class="final-cta" id="redirectBtn">Let the journey begin</a>
            </div>
        </section>
    </div>

    <div class="sound-control" id="soundControl">
        <i class="fas fa-volume-up" id="soundIcon"></i>
    </div>

    <audio id="backgroundMusic" preload="auto" loop autoplay muted>
        <source src="music/bg.mp3" type="audio/mpeg">
    </audio>
    
    <audio id="introNarration" preload="auto">
        <source src="https://assets.mixkit.co/sfx/preview/mixkit-robotic-futuristic-voice-1217.mp3" type="audio/mpeg">
    </audio>

    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const sections = document.querySelectorAll('section');
            const progressBar = document.getElementById('progress');
            const particles = document.getElementById('particles');
            const backgroundMusic = document.getElementById('backgroundMusic');
            const soundControl = document.getElementById('soundControl');
            const soundIcon = document.getElementById('soundIcon');
            
            let isMuted = false;
            let currentSection = 0;
            let autoScrollEnabled = true;
            let comingFromCountdown = false;
            
            // Check if we're coming from the countdown page
            if (window.location.hash === '#autostart' || 
                document.referrer.includes('countdown.html')) {
                comingFromCountdown = true;
                console.log("Detected arrival from countdown page");
            }
            
            // Initialize - hide all sections
            sections.forEach(section => {
                section.classList.remove('visible');
            });
            
            // Create particles
            for (let i = 0; i < 50; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = Math.random() * 100 + 'vw';
                particle.style.top = Math.random() * 100 + 'vh';
                particle.style.width = (Math.random() * 3 + 1) + 'px';
                particle.style.height = (Math.random() * 3 + 1) + 'px';
                particle.style.background = Math.random() > 0.5 ? '#9500ff' : '#0062ff';
                particle.style.position = 'absolute';
                particle.style.borderRadius = '50%';
                particle.style.animation = `particleMove ${Math.random() * 5 + 3}s linear infinite`;
                particle.style.animationDelay = `${Math.random() * 2}s`;
                particles.appendChild(particle);
            }
            
            // Special function to force music playback from countdown
            function forcePlayMusic() {
                console.log("Force playing music after countdown");
                
                // Create a silent buffer
                const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                
                // Play a silent sound to unlock audio API
                const silentBuffer = audioContext.createBuffer(1, 1, 22050);
                const source = audioContext.createBufferSource();
                source.buffer = silentBuffer;
                source.connect(audioContext.destination);
                source.start(0);
                
                // Now try to play our actual music with multiple methods
                setTimeout(() => {
                    // Unmute and set volume
                    backgroundMusic.muted = false;
                    backgroundMusic.volume = 1.0;
                    
                    // Try to play using audio element API
                    try {
                        backgroundMusic.play();
                    } catch (e) {
                        console.error("Standard play failed:", e);
                    }
                    
                    // Also try to inject a user gesture-based play
                    const simulatedClick = new MouseEvent('click', {
                        view: window,
                        bubbles: true,
                        cancelable: true
                    });
                    document.body.dispatchEvent(simulatedClick);
                    
                    // No fallback button - just keep trying to play at intervals
                    let retryCount = 0;
                    const playInterval = setInterval(() => {
                        if (backgroundMusic.paused && retryCount < 5) {
                            retryCount++;
                            console.log(`Retry ${retryCount}/5 to play music`);
                            backgroundMusic.play().catch(e => {
                                console.error(`Retry ${retryCount} failed:`, e);
                            });
                        } else {
                            clearInterval(playInterval);
                        }
                    }, 1000);
                }, 100);
            }
            
            // Function to unlock/play audio with multiple approaches
            function unlockAudio() {
                // First unmute the initially muted audio
                backgroundMusic.muted = false;
                backgroundMusic.volume = 1.0;
                
                // Try multiple play approaches
                try {
                    // Force load the audio file
                    backgroundMusic.load();
                    
                    // Try to play immediately
                    const playPromise = backgroundMusic.play();
                    
                    if (playPromise !== undefined) {
                        playPromise.then(() => {
                            console.log("Music started successfully");
                        }).catch(error => {
                            console.error("First attempt failed:", error);
                            
                            // Try a second attempt after a slight delay
                            setTimeout(() => {
                                backgroundMusic.play().catch(e => {
                                    console.error("Second attempt failed:", e);
                                    
                                    // If coming from countdown, use more aggressive methods
                                    if (comingFromCountdown) {
                                        forcePlayMusic();
                                    } else {
                                        // No visual button, just keep trying
                                        let retryAttempt = 0;
                                        const retryPlay = setInterval(() => {
                                            if (backgroundMusic.paused && retryAttempt < 10) {
                                                retryAttempt++;
                                                console.log(`Background retry ${retryAttempt}/10`);
                                                backgroundMusic.play().catch(() => {});
                                            } else {
                                                clearInterval(retryPlay);
                                            }
                                        }, 1000);
                                    }
                                });
                            }, 100);
                        });
                    }
                } catch (e) {
                    console.error("Error playing audio:", e);
                    if (comingFromCountdown) {
                        forcePlayMusic();
                    } else {
                        // Create a persistent background retry mechanism 
                        let retryCount = 0;
                        const persistentRetry = setInterval(() => {
                            if (backgroundMusic.paused && retryCount < 10) {
                                retryCount++;
                                backgroundMusic.play().catch(() => {});
                            } else {
                                clearInterval(persistentRetry);
                            }
                        }, 1000);
                    }
                }
            }
            
            // Function to show a section without hiding others
            function showSection(index) {
                if (index >= 0 && index < sections.length) {
                    console.log(`Showing section ${index}`);
                    
                    // First, move all sections out of view (but don't hide them)
                    sections.forEach((section, i) => {
                        // Keep the section in the DOM but remove visible class
                        section.classList.remove('visible');
                        
                        // We'll track the current focused section
                        if (i === index) {
                            console.log(`Making section ${i} visible`);
                        }
                    });
                    
                    // Make target section visible
                    sections[index].classList.add('visible');
                    
                    // Update current section index
                    currentSection = index;
                    
                    // Update progress bar
                    updateProgressBar();
                    
                    // Scroll to the section smoothly
                    sections[index].scrollIntoView({ 
                        behavior: 'smooth', 
                        block: 'start' 
                    });
                    
                    // Update navigation buttons if they exist
                    if (typeof updateNavButtons === 'function') {
                        updateNavButtons();
                    }
                    
                    // Debug output
                    console.log("Sections status:");
                    sections.forEach((section, i) => {
                        console.log(`Section ${i}: ${section.classList.contains('visible') ? 'visible' : 'hidden'}`);
                    });
                }
            }
            
            // Auto-scroll functionality with 7 second intervals
            let autoScrollTimer = null;
            
            function startAutoScroll() {
                // Clear any existing timer
                if (autoScrollTimer) {
                    clearInterval(autoScrollTimer);
                    autoScrollTimer = null;
                }
                
                console.log("Starting auto-scroll timer");
                
                // Set new timer - scroll to next section every 7 seconds
                autoScrollTimer = setInterval(function() {
                    if (currentSection < sections.length - 1) {
                        console.log(`Auto-scrolling to section ${currentSection + 1}`);
                        showSection(currentSection + 1);
                    } else {
                        // Stop auto-scroll when we reach the end
                        console.log("Reached end, stopping auto-scroll");
                        clearInterval(autoScrollTimer);
                        autoScrollTimer = null;
                        
                        // Redirect to nearmate.vercel.app after a short delay
                        console.log("Preparing to redirect to nearmate.vercel.app");
                        setTimeout(() => {
                            console.log("Redirecting now!");
                            window.location.href = "https://nearmate.vercel.app";
                        }, 3000); // 3 seconds delay before redirect
                    }
                }, 7000); // 7 seconds per section
            }
            
            // Automatically start the intro when page loads
            function autoStart() {
                console.log("Auto-starting intro experience");
                
                // Try to unlock audio
                unlockAudio();
                
                // Make sure all sections exist in the DOM
                sections.forEach((section, index) => {
                    // Never remove sections from the DOM
                    section.style.display = ""; // Clear any display:none
                    
                    // Initially, only the first section should be visible
                    if (index === 0) {
                        section.classList.add('visible');
                    } else {
                        section.classList.remove('visible');
                    }
                });
                
                // Set current section to 0
                currentSection = 0;
                
                // Update progress bar
                updateProgressBar();
                
                // Force a reflow to ensure the browser updates the DOM
                document.body.offsetHeight;
                
                console.log("First section shown:", sections[0].classList.contains('visible'));
                
                // Start auto-scroll timer with a delay
                if (autoScrollEnabled) {
                    setTimeout(() => {
                        console.log("Starting auto-scroll after delay");
                        startAutoScroll();
                    }, 2000);
                }
            }
            
            // Also add click/touch to unlock audio (needed for iOS)
            document.addEventListener('click', function audioUnlockHandler() {
                unlockAudio();
                document.removeEventListener('click', audioUnlockHandler);
            }, { once: true });
            
            // Start automatically right away
            autoStart();
            
            // Also try again after a short delay (as fallback)
            setTimeout(unlockAudio, 500);
            
            // Function for manual navigation between sections
            function manualNavigate(direction) {
                // Calculate new section index
                let newIndex = currentSection + direction;
                
                // Ensure index is valid
                if (newIndex >= 0 && newIndex < sections.length) {
                    // Clear auto-scroll when user navigates manually
                    if (autoScrollTimer) {
                        clearInterval(autoScrollTimer);
                        autoScrollTimer = null;
                    }
                    
                    // Show the new section
                    showSection(newIndex);
                }
            }
            
            // Add keyboard navigation (arrow keys)
            document.addEventListener('keydown', function(event) {
                if (event.key === 'ArrowRight' || event.key === 'ArrowDown') {
                    manualNavigate(1); // Next section
                } else if (event.key === 'ArrowLeft' || event.key === 'ArrowUp') {
                    manualNavigate(-1); // Previous section
                }
            });
            
            // Update progress bar
            function updateProgressBar() {
                const progress = ((currentSection + 1) / sections.length) * 100;
                progressBar.style.width = `${progress}%`;
            }
            
            // Sound control
            soundControl.addEventListener('click', function() {
                isMuted = !isMuted;
                
                // Update audio elements
                backgroundMusic.volume = isMuted ? 0 : 1.0;
                
                // Update icon
                soundIcon.className = isMuted ? 'fas fa-volume-mute' : 'fas fa-volume-up';
            });
            
            // Redirect button now goes to the actual site
            document.getElementById('redirectBtn').addEventListener('click', function(e) {
                e.preventDefault();
                window.location.href = 'https://nearmate.vercel.app'; // Changed redirect to the live site
            });
            
            // Add navigation buttons
            const container = document.querySelector('.container');
            
            // Create navigation controls
            const navControls = document.createElement('div');
            navControls.className = 'nav-controls';
            navControls.innerHTML = `
                <button id="prevBtn" class="nav-btn"><i class="fas fa-chevron-left"></i></button>
                <button id="nextBtn" class="nav-btn"><i class="fas fa-chevron-right"></i></button>
            `;
            
            // Add to document
            document.body.appendChild(navControls);
            
            // Style navigation controls
            const style = document.createElement('style');
            style.textContent = `
                .nav-controls {
                    position: fixed;
                    bottom: 20px;
                    left: 50%;
                    transform: translateX(-50%);
                    display: flex;
                    gap: 20px;
                    z-index: 10;
                }
                .nav-btn {
                    width: 40px;
                    height: 40px;
                    border-radius: 50%;
                    background: rgba(255, 255, 255, 0.1);
                    backdrop-filter: blur(5px);
                    border: none;
                    color: #9500ff;
                    font-size: 1rem;
                    cursor: pointer;
                    display: flex;
                    justify-content: center;
                    align-items: center;
                    box-shadow: 0 0 10px rgba(149, 0, 255, 0.3);
                    transition: all 0.3s ease;
                }
                .nav-btn:hover {
                    background: rgba(255, 255, 255, 0.2);
                    transform: scale(1.1);
                }
                .nav-btn:active {
                    transform: scale(0.95);
                }
                .nav-btn:disabled {
                    opacity: 0.5;
                    cursor: not-allowed;
                }
                @media (max-width: 768px) {
                    .nav-controls {
                        bottom: 10px;
                    }
                }
            `;
            document.head.appendChild(style);
            
            // Add event listeners for navigation buttons
            document.getElementById('prevBtn').addEventListener('click', function() {
                manualNavigate(-1);
            });
            
            document.getElementById('nextBtn').addEventListener('click', function() {
                manualNavigate(1);
            });
            
            // Update navigation buttons state
            function updateNavButtons() {
                const prevBtn = document.getElementById('prevBtn');
                const nextBtn = document.getElementById('nextBtn');
                
                if (prevBtn && nextBtn) {
                    prevBtn.disabled = currentSection === 0;
                    nextBtn.disabled = currentSection === sections.length - 1;
                }
            }
            
            // Update button state when section changes
            const observer = new MutationObserver(function(mutations) {
                mutations.forEach(function(mutation) {
                    if (mutation.attributeName === 'class') {
                        updateNavButtons();
                    }
                });
            });
            
            sections.forEach(section => {
                observer.observe(section, { attributes: true });
            });
            
            // Initial update of nav buttons
            updateNavButtons();
        });
    </script>
</body>
</html> 